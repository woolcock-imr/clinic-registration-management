<section class="w3s">
    VmInclude:__PARTS__/toolbar/back_save.html
    <div class="w3-container w3-content">
    	<form id=F__ID class="w3-padding-0 w3-margin-0 ">
                <div class="w3-center w3-padding">
                    <h2 class="w3-xxlarge">SHORT SLEEP HISTORY</h2>
                </div>

                <div class="w3-container" id=tr_participant__ID style='display:none' data-id=Participant data-custom=1>
                    <input class="w3-input w3-third" name=Participant  id=Participant__ID  type=text placeholder='select a partcipant...' />
                    <input class="w3-quarter w3-border-0 w3-text-grey w3-center" name=Participant_uid id=Participant_uid__ID type=text readonly  />
                    <span><u  class="w3-quarter w3-btn w3-white w3-border-bottom " id=Participant_r__ID>Remove</u></span>

                </div>
                <div class="w3-container  w3-padding-16">
                    <div class="w3-half"  data-id=snore style='vertical-align:middle' data-custom=1 >
                        <div class="w3-padding-small">
                            Do you snore?<br>
                            <input class="w3-radio" type="radio" name="snore" id=snore_Y__ID value=Yes \>
                            <label  for=snore_Y__ID>Yes</label>
                            <input class="w3-radio " type="radio" name="snore" id=snore_N__ID value=No \>
                            <label for=snore_N__ID>No</label>
                        </div>
                    </div>
                    <div class="w3-half"  data-id=unfreshed style='vertical-align:middle' data-custom=1 >
                        <div class="w3-padding-small">
                            Do you wake unrefreshed?<br>
                            <input class="w3-radio" type="radio" name="unfreshed" id=unfreshed_Y__ID value=Yes \>
                            <label  for=unfreshed_Y__ID>Yes</label>
                            <input class="w3-radio " type="radio" name="unfreshed" id=unfreshed_N__ID value=No \>
                            <label for=unfreshed_N__ID>No</label>
                        </div>
                    </div>
                </div>
                <div class="w3-container  w3-padding-16">
                    <div class="w3-half"  data-id=driving style='vertical-align:middle' data-custom=1 >
                        <div class="w3-padding-small">Have you ever fallen asleep whilst driving?<br>
                            <input class="w3-radio" type="radio" name="driving" id=driving_Y__ID value=Yes \>
                            <label  for=driving_Y__ID>Yes</label>
                            <input class="w3-radio " type="radio" name="driving" id=driving_N__ID value=No \>
                            <label for=driving_N__ID>No</label>
                        </div>
                    </div>
                    <div class="w3-half"  data-id=shortness_breath style='vertical-align:middle' data-custom=1 >
                        <div class="w3-padding-small">Do you awaken with shortness of breath?<br>
                            <input class="w3-radio" type="radio" name="shortness_breath" id=shortness_breath_Y__ID value=Yes \>
                            <label  for=shortness_breath_Y__ID>Yes</label>
                            <input class="w3-radio " type="radio" name="shortness_breath" id=shortness_breath_N__ID value=No \>
                            <label for=shortness_breath_N__ID>No</label>
                        </div>
                    </div>
                </div>
                <div class="w3-container  w3-padding-16">
                    <div class="w3-half"  data-id=stop_breathing style='vertical-align:middle' data-custom=1 >
                        <div class="w3-padding-small">Have you or your partner noticed you stop breathing when you are asleep?<br>
                            <input class="w3-radio" type="radio" name="stop_breathing" id=stop_breathing_Y__ID value=Yes \>
                            <label  for=stop_breathing_Y__ID>Yes</label>
                            <input class="w3-radio " type="radio" name="stop_breathing" id=stop_breathing_N__ID value=No \>
                            <label for=stop_breathing_N__ID>No</label>
                        </div>
                    </div>
                    <div class="w3-half"  data-id=chronically_sleepy style='vertical-align:middle' data-custom=1 >
                        <div class="w3-padding-small">In the daytime are you chronically sleepy, fatigued or tired?<br>
                            <input class="w3-radio" type="radio" name="chronically_sleepy" id=chronically_sleepy_Y__ID value=Yes \>
                            <label  for=chronically_sleepy_Y__ID>Yes</label>
                            <input class="w3-radio " type="radio" name="chronically_sleepy" id=chronically_sleepy_N__ID value=No \>
                            <label for=chronically_sleepy_N__ID>No</label>
                        </div>
                    </div>
                </div>
                <div class="w3-container  w3-padding-16">
                    <div class="w3-half"  data-id=staying_asleep style='vertical-align:middle' data-custom=1 >
                        <div class="w3-padding-small">Do you have trouble falling or staying asleep?<br>
                            <input class="w3-radio" type="radio" name="staying_asleep" id=staying_asleep_Y__ID value=Yes \>
                            <label  for=staying_asleep_Y__ID>Yes</label>
                            <input class="w3-radio " type="radio" name="staying_asleep" id=staying_asleep_N__ID value=No \>
                            <label for=staying_asleep_N__ID>No</label>
                        </div>
                    </div>
                    <div class="w3-half"  data-id=daytime_worries style='vertical-align:middle' data-custom=1 >
                        <div class="w3-padding-small">Do daytime worries keep you awake at night?<br>
                            <input class="w3-radio" type="radio" name="daytime_worries" id=daytime_worries_Y__ID value=Yes \>
                            <label  for=daytime_worries_Y__ID>Yes</label>
                            <input class="w3-radio " type="radio" name="daytime_worries" id=daytime_worries_N__ID value=No \>
                            <label for=daytime_worries_N__ID>No</label>
                        </div>
                    </div>
                </div>
                <div class="w3-container  w3-padding-16">
                    <div class="w3-half"  data-id=pain style='vertical-align:middle' data-custom=1 >
                        <div class="w3-padding-small">Does pain disturb your sleep?<br>
                            <input class="w3-radio" type="radio" name="pain" id=pain_Y__ID value=Yes \>
                            <label  for=pain_Y__ID>Yes</label>
                            <input class="w3-radio " type="radio" name="pain" id=pain_N__ID value=No \>
                            <label for=pain_N__ID>No</label>
                        </div>
                    </div>
                    <div class="w3-half"  data-id=grind_teeth style='vertical-align:middle' data-custom=1 >
                        <div class="w3-padding-small">Do you grind your teeth during sleep?<br>
                            <input class="w3-radio" type="radio" name="grind_teeth" id=grind_teeth_Y__ID value=Yes \>
                            <label  for=grind_teeth_Y__ID>Yes</label>
                            <input class="w3-radio " type="radio" name="grind_teeth" id=grind_teeth_N__ID value=No \>
                            <label for=grind_teeth_N__ID>No</label>
                        </div>
                    </div>
                </div>
                <div class="w3-container  w3-padding-16">
                    <div class="w3-half"  data-id=leg_sensations style='vertical-align:middle' data-custom=1 >
                        <div class="w3-padding-small">Do you experience unpleasant leg sensations at bed time?<br>
                            <input class="w3-radio" type="radio" name="leg_sensations" id=leg_sensations_Y__ID value=Yes \>
                            <label  for=leg_sensations_Y__ID>Yes</label>
                            <input class="w3-radio " type="radio" name="leg_sensations" id=leg_sensations_N__ID value=No \>
                            <label for=leg_sensations_N__ID>No</label>
                        </div>
                    </div>
                    <div class="w3-half"  data-id=jerk_arms style='vertical-align:middle' data-custom=1 >
                        <div class="w3-padding-small">Do you kick or jerk your arms or legs during sleep?<br>
                            <input class="w3-radio" type="radio" name="jerk_arms" id=jerk_arms_Y__ID value=Yes \>
                            <label  for=jerk_arms_Y__ID>Yes</label>
                            <input class="w3-radio " type="radio" name="jerk_arms" id=jerk_arms_N__ID value=No \>
                            <label for=jerk_arms_N__ID>No</label>
                        </div>
                    </div>
                </div>
                <div class="w3-container  w3-padding-16">
                    <div class="w3-half"  data-id=unusual_movements style='vertical-align:middle' data-custom=1 >
                        <div class="w3-padding-small">Have you ever had unusual movements or behaviors during sleep?<br>
                            <input class="w3-radio" type="radio" name="unusual_movements" id=unusual_movements_Y__ID value=Yes \>
                            <label  for=unusual_movements_Y__ID>Yes</label>
                            <input class="w3-radio " type="radio" name="unusual_movements" id=unusual_movements_N__ID value=No \>
                            <label for=unusual_movements_N__ID>No</label>
                            <br><br>Describe:
                        </div>
                        <div  data-id=unusual_movements_describe class="w3-padding"  style="margin-right:30px" data-custom=1>
                            <textarea class="w3-input w3-border" type="text" name="unusual_movements_describe" ></textarea>
                        </div>

                    </div>
                    <div class="w3-half"  data-id=toilet style='vertical-align:middle' data-custom=1 >
                        <div class="w3-padding-small">Do you go to the toilet frequently overnight?<br>
                            <input class="w3-radio" type="radio" name="toilet" id=toilet_Y__ID value=Yes \>
                            <label  for=toilet_Y__ID>Yes</label>
                            <input class="w3-radio " type="radio" name="toilet" id=toilet_N__ID value=No \>
                            <label for=toilet_N__ID>No</label>
                            <br><br>If yes, how many times on average per night?:
                        </div>
                        <div  class="w3-padding" data-id=toilet_number  data-custom=1>
                            <input class="w3-input w3-border" type="text" name="toilet_number" style="width:50px" >
                        </div>
                    </div>
                </div>
                <div class="w3-container  w3-padding-16">
                    <div class="w3-half"  data-id=menopause style='vertical-align:middle' data-custom=1 >
                        <div class="w3-padding-small">If appropriate age and gender, have you gone through menopause?<br>
                            <input class="w3-radio" type="radio" name="menopause" id=menopause_Y__ID value=Yes \>
                            <label  for=menopause_Y__ID>Yes</label>
                            <input class="w3-radio " type="radio" name="menopause" id=menopause_N__ID value=No \>
                            <label for=menopause_N__ID>No</label>
                        </div>
                    </div>
                    <div class="w3-half"  data-id=sleeping_tablets style='vertical-align:middle' data-custom=1 >
                        <div class="w3-padding-small">Do you take sleeping tablets?<br>
                            <input class="w3-radio" type="radio" name="sleeping_tablets" id=sleeping_tablets_Y__ID value=Yes \>
                            <label  for=sleeping_tablets_Y__ID>Yes</label>
                            <input class="w3-radio " type="radio" name="sleeping_tablets" id=sleeping_tablets_N__ID value=No \>
                            <label for=sleeping_tablets_N__ID>No</label>
                        </div>
                        <div class="w3-padding-small" data-id=sleeping_tablets_frequency data-custom=1  >If yes, how often?<br>
                            <input class="w3-radio" type="radio" name="sleeping_tablets_frequency" id=sleeping_tablets_frequency_Y__ID value="Nightly" \>
                            <label  for=sleeping_tablets_frequency_Y__ID>Nightly</label>
                            <input class="w3-radio " type="radio" name="sleeping_tablets_frequency" id=sleeping_tablets_frequency_N__ID value="When necessary" \>
                            <label for=sleeping_tablets_frequency_N__ID>When necessary</label>
                        </div>
                        <div  class="w3-padding-small"  style="margin-right:30px" data-id=sleeping_tablets_name  data-custom=1>
                            Name of tablet:
                            <input class="w3-input w3-border" type="text" name="sleeping_tablets_name" >
                        </div>
                    </div>
                </div>
        </form>
        <a id=save2__ID  class="w3-btn w3-dark-grey w3-hover-black w3-text-white w3-round-large" >Save &amp; Back</a>
    </div>
</section>
<script>
    function F__ID(){
        //----------------------------------
        VmInclude:__PARTS__/grid/form.js
        VmInclude:__PARTS__/style/ease-in-out.2.js
		VmInclude:__CURRENT_PATH__/task.form.js
        //----------------------------------
        $('#D__ID').on('load',function(){
            _init();
            _field_process();
            _task_fields=$vm.vm['__ID'].op.grid_to_form_parameters.task_fields;
            _set_participant_field();
            custom_field_process();
        })
        //----------------------------------
        var custom_field_process=function(){
            $('#F__ID div[data-custom=1]').each(function(){
                var field=$(this).attr('data-id');
                switch(field){
					case "Participant":
                        $(this).find("input[name='"+field+"']").val(_records[I].Participant);
                        $(this).find("input[name='"+field+"_uid']").val(_records[I].Participant_uid);
                    	break;
                    case "toilet_number":
                    case "sleeping_tablets_name":
                    case "sleeping_tablets_name":
                        $(this).find("input[name='"+field+"']").val(_records[I][field]);
                        $(this).find("input[name='"+field+"']").on('change',function(){
                            _set_value($(this).val(),_records,I,field);
                        });
                        break;
                    case "unusual_movements_describe":
                        $(this).find("textarea[name='"+field+"']").val(_records[I][field]);
                        $(this).find("textarea[name='"+field+"']").on('change',function(){
                            _set_value($(this).val(),_records,I,field);
                        });
                        break;
                    case "snore":
                    case "unfreshed":
                    case "driving":
                    case "shortness_breath":
                    case "stop_breathing":
                    case "chronically_sleepy":
                    case "staying_asleep":
                    case "daytime_worries":
                    case "grind_teeth":
                    case "leg_sensations":
                    case "jerk_arms":
                    case "unusual_movements":
                    case "toilet":
                    case "menopause":
                    case "sleeping_tablets":
                    case "sleeping_tablets_frequency":
                        $(this).parent().find("input[name='"+field+"'][value='"+_records[I][field]+"']").prop('checked', true);
                        $(this).parent().find("input[name='"+field+"']").on('click',function(){
                            alert(this.value)
                            _set_value(this.value,_records,I,field);
                        })
                        break;
                }
            })
        }
        //----------------------------------
        _before_submit_form=function(){
            return true;
        }
        //----------------------------------
    }
</script>
<style>
    VmInclude:__PARTS__/toolbar/toolbar.css
    VmInclude:__PARTS__/grid/form.css
    VmInclude:__CURRENT_PATH__/w3.css

</style>
