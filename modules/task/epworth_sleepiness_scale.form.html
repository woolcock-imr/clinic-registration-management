<section class="w3s">
    VmInclude:__PARTS__/toolbar/back_save.html
    <div class="w3-container w3-content">
    	<form id=F__ID class="w3-padding-0 w3-margin-0 ">
            <div class="w3-center w3-padding">
                <h2 class="w3-xlarge">Epworth Sleepiness Scale</h2>
            </div>

            <div class="w3-container" id=tr_participant__ID style='display:none' data-id=Participant data-custom=1>
                <input class="w3-input w3-third" name=Participant  id=Participant__ID  type=text placeholder='select a partcipant...' />
                <input class="w3-quarter w3-border-0 w3-text-grey w3-center" name=Participant_uid id=Participant_uid__ID type=text readonly  />
                <span><u  class="w3-quarter w3-btn w3-white w3-border-bottom " id=Participant_r__ID>Remove</u></span>
            </div>
            <div class="w3-container w3-padding-16" style='vertical-align:middle' >
                <div id=q1 class="w3-half w3-padding-16" data-id=ESS_1 data-custom=1  ><span class=w3-medium>1. Sitting and reading</span><br>
                    <input class="w3-radio" type="radio" name="ESS_1" id=ESS_1_0__ID value=0 \>
                    <label  for=ESS_1_0__ID>Would <b>never</b> doze</label><br>
                    <input class="w3-radio" type="radio" name="ESS_1" id=ESS_1_1__ID value=1 \>
                    <label for=ESS_1_1__ID><b>Slight</b> chance of dozing</label><br>
                    <input class="w3-radio" type="radio" name="ESS_1" id=ESS_1_2__ID value=2 \>
                    <label  for=ESS_1_2__ID><b>Moderate</b> chance of dozing</label><br>
                    <input class="w3-radio" type="radio" name="ESS_1" id=ESS_1_3__ID value=3 \>
                    <label for=ESS_1_3__ID><b>High</b> chance of dozing</label><br>
                </div>
                <div id=q1 class="w3-half w3-padding-16" data-id=ESS_2 data-custom=1  ><span class=w3-medium>2. Watching TV</span><br>
                    <input class="w3-radio" type="radio" name="ESS_2" id=ESS_2_0__ID value=0 \>
                    <label  for=ESS_2_0__ID>Would <b>never</b> doze</label><br>
                    <input class="w3-radio" type="radio" name="ESS_2" id=ESS_2_1__ID value=1 \>
                    <label for=ESS_2_1__ID><b>Slight</b> chance of dozing</label><br>
                    <input class="w3-radio" type="radio" name="ESS_2" id=ESS_2_2__ID value=2 \>
                    <label  for=ESS_2_2__ID><b>Moderate</b> chance of dozing</label><br>
                    <input class="w3-radio" type="radio" name="ESS_2" id=ESS_2_3__ID value=3 \>
                    <label for=ESS_2_3__ID><b>High</b> chance of dozing</label><br>
                </div>
            </div>
            <div class="w3-container w3-padding-16" style='vertical-align:middle' >
                <div id=q1 class="w3-half w3-padding-16" data-id=ESS_3 data-custom=1  ><span class=w3-medium>3. Sitting, inactive in a public place (eg a theatre or a meeting)</span><br>
                    <input class="w3-radio" type="radio" name="ESS_3" id=ESS_3_0__ID value=0 \>
                    <label  for=ESS_3_0__ID>Would <b>never</b> doze</label><br>
                    <input class="w3-radio" type="radio" name="ESS_3" id=ESS_3_1__ID value=1 \>
                    <label for=ESS_3_1__ID><b>Slight</b> chance of dozing</label><br>
                    <input class="w3-radio" type="radio" name="ESS_3" id=ESS_3_2__ID value=2 \>
                    <label  for=ESS_3_2__ID><b>Moderate</b> chance of dozing</label><br>
                    <input class="w3-radio" type="radio" name="ESS_3" id=ESS_3_3__ID value=3 \>
                    <label for=ESS_3_3__ID><b>High</b> chance of dozing</label><br>
                </div>
                <div id=q1 class="w3-half w3-padding-16" data-id=ESS_4 data-custom=1  ><span class=w3-medium>4. As a passenger in a car for an hour without a break</span><br>
                    <input class="w3-radio" type="radio" name="ESS_4" id=ESS_4_0__ID value=0 \>
                    <label  for=ESS_4_0__ID>Would <b>never</b> doze</label><br>
                    <input class="w3-radio" type="radio" name="ESS_4" id=ESS_4_1__ID value=1 \>
                    <label for=ESS_4_1__ID><b>Slight</b> chance of dozing</label><br>
                    <input class="w3-radio" type="radio" name="ESS_4" id=ESS_4_2__ID value=2 \>
                    <label  for=ESS_4_2__ID><b>Moderate</b> chance of dozing</label><br>
                    <input class="w3-radio" type="radio" name="ESS_4" id=ESS_4_3__ID value=3 \>
                    <label for=ESS_4_3__ID><b>High</b> chance of dozing</label><br>
                </div>
            </div>
            <div class="w3-container w3-padding-16" style='vertical-align:middle' >
                <div id=q1 class="w3-half w3-padding-16" data-id=ESS_5 data-custom=1  ><span class=w3-medium>5. Lying down to rest in the afternoon when circumstances permit</span><br>
                    <input class="w3-radio" type="radio" name="ESS_5" id=ESS_5_0__ID value=0 \>
                    <label  for=ESS_5_0__ID>Would <b>never</b> doze</label><br>
                    <input class="w3-radio" type="radio" name="ESS_5" id=ESS_5_1__ID value=1 \>
                    <label for=ESS_5_1__ID><b>Slight</b> chance of dozing</label><br>
                    <input class="w3-radio" type="radio" name="ESS_5" id=ESS_5_2__ID value=2 \>
                    <label  for=ESS_5_2__ID><b>Moderate</b> chance of dozing</label><br>
                    <input class="w3-radio" type="radio" name="ESS_5" id=ESS_5_3__ID value=3 \>
                    <label for=ESS_5_3__ID><b>High</b> chance of dozing</label><br>
                </div>
                <div id=q1 class="w3-half w3-padding-16" data-id=ESS_6 data-custom=1  ><span class=w3-medium>6. Sitting and talking to someone</span><br>
                    <input class="w3-radio" type="radio" name="ESS_6" id=ESS_6_0__ID value=0 \>
                    <label  for=ESS_6_0__ID>Would <b>never</b> doze</label><br>
                    <input class="w3-radio" type="radio" name="ESS_6" id=ESS_6_1__ID value=1 \>
                    <label for=ESS_6_1__ID><b>Slight</b> chance of dozing</label><br>
                    <input class="w3-radio" type="radio" name="ESS_6" id=ESS_6_2__ID value=2 \>
                    <label  for=ESS_6_2__ID><b>Moderate</b> chance of dozing</label><br>
                    <input class="w3-radio" type="radio" name="ESS_6" id=ESS_6_3__ID value=3 \>
                    <label for=ESS_6_3__ID><b>High</b> chance of dozing</label><br>
                </div>
            </div>
            <div class="w3-container w3-padding-16" style='vertical-align:middle' >
                <div id=q1 class="w3-half w3-padding-16" data-id=ESS_7 data-custom=1  ><span class=w3-medium>7. Sitting quietly after lunch without alcohol</span><br>
                    <input class="w3-radio" type="radio" name="ESS_7" id=ESS_7_0__ID value=0 \>
                    <label  for=ESS_7_0__ID>Would <b>never</b> doze</label><br>
                    <input class="w3-radio" type="radio" name="ESS_7" id=ESS_7_1__ID value=1 \>
                    <label for=ESS_7_1__ID><b>Slight</b> chance of dozing</label><br>
                    <input class="w3-radio" type="radio" name="ESS_7" id=ESS_7_2__ID value=2 \>
                    <label  for=ESS_7_2__ID><b>Moderate</b> chance of dozing</label><br>
                    <input class="w3-radio" type="radio" name="ESS_7" id=ESS_7_3__ID value=3 \>
                    <label for=ESS_7_3__ID><b>High</b> chance of dozing</label><br>
                </div>
                <div id=q1 class="w3-half w3-padding-16" data-id=ESS_8 data-custom=1  ><span class=w3-medium>8. In a car, while stopped for a few minutes in traffic</span><br>
                    <input class="w3-radio" type="radio" name="ESS_8" id=ESS_8_0__ID value=0 \>
                    <label  for=ESS_8_0__ID>Would <b>never</b> doze</label><br>
                    <input class="w3-radio" type="radio" name="ESS_8" id=ESS_8_1__ID value=1 \>
                    <label for=ESS_8_1__ID><b>Slight</b> chance of dozing</label><br>
                    <input class="w3-radio" type="radio" name="ESS_8" id=ESS_8_2__ID value=2 \>
                    <label  for=ESS_8_2__ID><b>Moderate</b> chance of dozing</label><br>
                    <input class="w3-radio" type="radio" name="ESS_8" id=ESS_8_3__ID value=3 \>
                    <label for=ESS_8_3__ID><b>High</b> chance of dozing</label><br>
                </div>
            </div>

        </form>
        <a id=save2__ID  class="w3-btn w3-dark-grey w3-hover-black w3-text-white w3-round-large" >Save &amp; Back</a>
    </div>
</section>
<script>
    function F__ID(){
            //----------------------------------
            VmInclude:__PARTS__/grid/form.js
            VmInclude:__PARTS__/style/ease-in-out.2.js
    		VmInclude:__CURRENT_PATH__/task.form.js
            //----------------------------------
            $('#D__ID').on('load',function(){
                _init();
                _field_process();
                _task_fields=$vm.vm['__ID'].op.grid_to_form_parameters.task_fields;
                _set_participant_field();
                custom_field_process();
            })
        //----------------------------------
        var custom_field_process=function(){
            $('#F__ID div[data-custom=1]').each(function(){
                var field=$(this).attr('data-id');
                switch(field){
                    case "Participant":
                        $(this).find("input[name='"+field+"']").val(_records[I].Participant);
                        $(this).find("input[name='"+field+"_uid']").val(_records[I].Participant_uid);
                    break;
                    case "ESS_1":
                    case "ESS_2":
                    case "ESS_3":
                    case "ESS_4":
                    case "ESS_5":
                    case "ESS_6":
                    case "ESS_7":
                    case "ESS_8":
                        $(this).parent().find("input[name='"+field+"'][value='"+_records[I][field]+"']").prop('checked', true);
                        $(this).parent().find("input[name='"+field+"']").on('click',function(){
                            _set_value(this.value,_records,I,field);
                    })
                    break;
                }
            })
        }
        //----------------------------------
        _before_submit_form=function(){
            if( $('#F__ID').find('input[name=ESS_1]:checked').val()===undefined){ $vm.alert("Please answer question 1"); return false; }
            if( $('#F__ID').find('input[name=ESS_2]:checked').val()===undefined){ $vm.alert("Please answer question 2"); return false; }
            if( $('#F__ID').find('input[name=ESS_3]:checked').val()===undefined){ $vm.alert("Please answer question 3"); return false; }
            if( $('#F__ID').find('input[name=ESS_4]:checked').val()===undefined){ $vm.alert("Please answer question 4"); return false; }
            if( $('#F__ID').find('input[name=ESS_5]:checked').val()===undefined){ $vm.alert("Please answer question 5"); return false; }
            if( $('#F__ID').find('input[name=ESS_6]:checked').val()===undefined){ $vm.alert("Please answer question 6"); return false; }
            if( $('#F__ID').find('input[name=ESS_7]:checked').val()===undefined){ $vm.alert("Please answer question 7"); return false; }
            if( $('#F__ID').find('input[name=ESS_8]:checked').val()===undefined){ $vm.alert("Please answer question 8"); return false; }
            return true;
        }
        //----------------------------------
    }
</script>
<style>
    VmInclude:__PARTS__/toolbar/toolbar.css
    VmInclude:__PARTS__/grid/form.css
    VmInclude:__CURRENT_PATH__/w3.css
#q1:hover{
    background-color: #f8f8f8;
    cursor: pointer;
}
</style>
