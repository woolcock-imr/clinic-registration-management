<section class="w3s">
    VmInclude:__PARTS__/toolbar/back_save.html
    <div class="w3-container w3-content">
    	<form id=F__ID class="w3-padding-0 w3-margin-0 ">
                <div class="w3-center w3-padding">
                    <h2 class="w3-xxlarge">SHORT SLEEP HISTORY</h2>
                </div>

                <div class="w3-container" id=tr_participant__ID style='display:none' data-id=Participant data-custom=1>
                    <input class="w3-input w3-third" name=Participant  id=Participant__ID  type=text placeholder='select a partcipant...' />
                    <input class="w3-quarter w3-border-0 w3-text-grey w3-center" name=Participant_uid id=Participant_uid__ID type=text readonly  />
                    <span><u  class="w3-quarter w3-btn w3-white w3-border-bottom " id=Participant_r__ID>Remove</u></span>

                </div>
                <div class="w3-container  w3-padding-16">
                    <div class="w3-half"  data-id=snore style='vertical-align:middle' data-custom=1 >
                        <div class="w3-padding-small">
                            Do you snore?<br>
                            <input class="w3-radio w3-p" type="radio" name="snore" id=snore_Y__ID value=Yes \>
                            <label  for=snore_Y__ID>Yes</label>
                            <input class="w3-radio " type="radio" name="snore" id=snore_N__ID value=No \>
                            <label for=snore_N__ID>No</label>
                        </div>
                    </div>
                    <div class="w3-half"  data-id=osa style='vertical-align:middle' data-custom=1 >
                        <div class="w3-padding-small">Have you ever been told you stop breathing in your sleep?<br>
                            <input class="w3-radio w3-p" type="radio" name="osa" id=osa_Y__ID value=Yes \>
                            <label  for=osa_Y__ID>Yes</label>
                            <input class="w3-radio " type="radio" name="osa" id=osa_N__ID value=No \>
                            <label for=osa_N__ID>No</label>
                        </div>
                    </div>
                </div>
                <div class="w3-container  w3-padding-16">
                    <div class="w3-half"  data-id=rdb style='vertical-align:middle' data-custom=1 >
                        <div class="w3-padding-small">Has anyone reported that you have unusual movements in your sleep?<br>
                            <input class="w3-radio w3-p" type="radio" name="rdb" id=rbd_Y__ID value=Yes \>
                            <label  for=rbd_Y__ID>Yes</label>
                            <input class="w3-radio " type="radio" name="rdb" id=rdb_N__ID value=No \>
                            <label for=rdb_N__ID>No</label>
                        </div>
                    </div>
                    <div class="w3-half"  data-id=narcolepsy style='vertical-align:middle' data-custom=1 >
                        <div class="w3-padding-small">Do you have difficulty staying awake during the day?<br>
                            <input class="w3-radio w3-p" type="radio" name="narcolepsy" id=narcolepsy_Y__ID value=Yes \>
                            <label  for=narcolepcy_Y__ID>Yes</label>
                            <input class="w3-radio " type="radio" name="narcolepsy" id=narcolepsy_N__ID value=No \>
                            <label for=narcolepsy_N__ID>No</label>
                        </div>
                    </div>
                </div>
                <div class="w3-container  w3-padding-16">
                    <div class="w3-half"  data-id=insomnia_start style='vertical-align:middle' data-custom=1 >
                        <div class="w3-padding-small">Do you have difficulty falling asleep?<br>
                            <input class="w3-radio w3-p" type="radio" name="insomnia_start" id=insomnia_start_Y__ID value=Yes \>
                            <label  for=insomnia_start_Y__ID>Yes</label>
                            <input class="w3-radio " type="radio" name="insomnia_start" id=insomnia_start_N__ID value=No \>
                            <label for=insomnia_start_N__ID>No</label>
                        </div>
                    </div>
                    <div class="w3-half"  data-id=insomnia_return style='vertical-align:middle' data-custom=1 >
                        <div class="w3-padding-small">Do you have difficulty getting back to sleep after waking?<br>
                            <input class="w3-radio w3-p" type="radio" name="insomnia_return" id=insomnia_return_Y__ID value=Yes \>
                            <label  for=narcolepcy_Y__ID>Yes</label>
                            <input class="w3-radio " type="radio" name="insomnia_return" id=insomnia_return_N__ID value=No \>
                            <label for=insomnia_return_N__ID>No</label>
                        </div>
                    </div>
                </div>
                <div class="w3-container  w3-padding-16">
                    <div class="w3-half"  data-id=plm style='vertical-align:middle' data-custom=1 >
                        <div class="w3-padding-small">Do you ever have uncomfortable legs and feel like you have to move them around to relieve the discomfort?<br>
                            <input class="w3-radio w3-p" type="radio" name="plm" id=plm_Y__ID value=Yes \>
                            <label  for=plm_Y__ID>Yes</label>
                            <input class="w3-radio " type="radio" name="plm" id=plm_N__ID value=No \>
                            <label for=plm_N__ID>No</label>
                        </div>
                    </div>
                    <div class="w3-half"  data-id=sleep_start style='vertical-align:middle' data-custom=1 >
                        <div  data-id=sleep_end class="w3-padding-small"  data-custom=1>Approximately what time do you usually go to bed?<br>
                            Between <input class="w3-input" type="text" name="sleep_start" \> and <input class="w3-input" type="text" name="sleep_end" \>
                        </div>
                    </div>
                </div>
        </form>
        <a id=save2__ID  class="w3-btn w3-dark-grey w3-hover-black w3-text-white w3-round-large" >Save &amp; Back</a>
    </div>
</section>
<script>
    function F__ID(){
        //----------------------------------
        VmInclude:__PARTS__/grid/form.js
        VmInclude:__PARTS__/style/ease-in-out.2.js
		VmInclude:__CURRENT_PATH__/task.form.js
        //----------------------------------
        $('#D__ID').on('load',function(){
            _init();
            _field_process();
            _task_fields=$vm.vm['__ID'].op.grid_to_form_parameters.task_fields;
            _set_participant_field();
            custom_field_process();
        })
        //----------------------------------
        var custom_field_process=function(){
            $('#F__ID div[data-custom=1]').each(function(){
                var field=$(this).attr('data-id');
                switch(field){
					case "Participant":
                        $(this).find("input[name='"+field+"']").val(_records[I].Participant);
                        $(this).find("input[name='"+field+"_uid']").val(_records[I].Participant_uid);
                    	break;
                    case "sleep_start":
                    case "sleep_end":
                        $(this).find("input[name='"+field+"']").val(_records[I][field]);
                        $(this).find("input[name='"+field+"']").on('change',function(){
                            _set_value($(this).val(),_records,I,field);
                        });
                        break;
                    case "xxx":
                        $(this).find("textarea[name='"+field+"']").val(_records[I][field]);
                        $(this).find("textarea[name='"+field+"']").on('change',function(){
                            _set_value($(this).val(),_records,I,field);
                        });
                        break;
                    case "snore":
                    case "osa":
                    case "rdb":
                    case "narcolepsy":
                    case "insomnia_start":
                    case "insomnia_return":
                    case "plm":
                        $(this).parent().find("input[name='"+field+"'][value='"+_records[I][field]+"']").prop('checked', true);
                        $(this).parent().find("input[name='"+field+"']").on('click',function(){
                            _set_value(this.value,_records,I,field);
                        })
                        break;
                }
            })
        }
        //----------------------------------
        _before_submit_form=function(){
            return true;
        }
        //----------------------------------
    }
</script>
<style>
    VmInclude:__PARTS__/toolbar/toolbar.css
    VmInclude:__PARTS__/grid/form.css
    VmInclude:__CURRENT_PATH__/w3.css

</style>
